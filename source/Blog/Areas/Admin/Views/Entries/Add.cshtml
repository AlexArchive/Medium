@model Blog.Models.EntryInput

<div class="centered-container">

    @using (Html.BeginForm())
    {
        @Html.ValidationSummary()

        @Html.LabelFor(m => m.Header);
        @Html.TextBoxFor(m => m.Header);

        @Html.LabelFor(m => m.HeaderSlug);
        @Html.TextBoxFor(m => m.HeaderSlug);

        @Html.LabelFor(m => m.Content);
        @Html.HiddenFor(m => m.Content)
        <pre id="editor"></pre>

        <button type="submit" class="flat-button">Post</button>
    }
</div>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/textmate");
    editor.getSession().setMode("ace/mode/markdown");
    editor.getSession().setUseWrapMode(true);
    editor.setHighlightActiveLine(false);

    window.onload = function () {
        var form = document.querySelector("form");
        form.onsubmit = function () {
            document.getElementById("Content").value = editor.getSession().getValue();
        };
    };
</script>